!function(){function m(h,g){function b(p,q){return function(){return p.apply(q,arguments)}}var j;if(g=g||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=g.touchBoundary||10,this.layer=h,this.tapDelay=g.tapDelay||200,this.tapTimeout=g.tapTimeout||700,!m.notNeeded(h)){for(var f=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],d=this,o=0,c=f.length;c>o;o++){d[f[o]]=b(d[f[o]],d)}e&&(h.addEventListener("mouseover",this.onMouse,!0),h.addEventListener("mousedown",this.onMouse,!0),h.addEventListener("mouseup",this.onMouse,!0)),h.addEventListener("click",this.onClick,!0),h.addEventListener("touchstart",this.onTouchStart,!1),h.addEventListener("touchmove",this.onTouchMove,!1),h.addEventListener("touchend",this.onTouchEnd,!1),h.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(h.removeEventListener=function(u,q,t){var p=Node.prototype.removeEventListener;"click"===u?p.call(h,u,q.hijacked||q,t):p.call(h,u,q,t)},h.addEventListener=function(u,q,t){var p=Node.prototype.addEventListener;"click"===u?p.call(h,u,q.hijacked||(q.hijacked=function(r){r.propagationStopped||q(r)}),t):p.call(h,u,q,t)}),"function"==typeof h.onclick&&(j=h.onclick,h.addEventListener("click",function(p){j(p)},!1),h.onclick=null)}}var k=navigator.userAgent.indexOf("Windows Phone")>=0,e=navigator.userAgent.indexOf("Android")>0&&!k,i=/iP(ad|hone|od)/.test(navigator.userAgent)&&!k,n=i&&/OS 4_\d(_\d)?/.test(navigator.userAgent),l=i&&/OS [6-7]_\d/.test(navigator.userAgent),a=navigator.userAgent.indexOf("BB10")>0;m.prototype.needsClick=function(b){switch(b.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(b.disabled){return !0}break;case"input":if(i&&"file"===b.type||b.disabled){return !0}break;case"label":case"iframe":case"video":return !0}return/\bneedsclick\b/.test(b.className)},m.prototype.needsFocus=function(b){switch(b.nodeName.toLowerCase()){case"textarea":return !0;case"select":return !e;case"input":switch(b.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return !1}return !b.disabled&&!b.readOnly;default:return/\bneedsfocus\b/.test(b.className)}},m.prototype.sendClick=function(c,f){var b,d;document.activeElement&&document.activeElement!==c&&document.activeElement.blur(),d=f.changedTouches[0],b=document.createEvent("MouseEvents"),b.initMouseEvent(this.determineEventType(c),!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),b.forwardedTouchEvent=!0,c.dispatchEvent(b)},m.prototype.determineEventType=function(b){return e&&"select"===b.tagName.toLowerCase()?"mousedown":"click"},m.prototype.focus=function(b){var c;i&&b.setSelectionRange&&0!==b.type.indexOf("date")&&"time"!==b.type&&"month"!==b.type?(c=b.value.length,b.setSelectionRange(c,c)):b.focus()},m.prototype.updateScrollParent=function(b){var d,c;if(d=b.fastClickScrollParent,!d||!d.contains(b)){c=b;do{if(c.scrollHeight>c.offsetHeight){d=c,b.fastClickScrollParent=c;break}c=c.parentElement}while(c)}d&&(d.fastClickLastScrollTop=d.scrollTop)},m.prototype.getTargetElementFromEventTarget=function(b){return b.nodeType===Node.TEXT_NODE?b.parentNode:b},m.prototype.onTouchStart=function(c){var d,b,f;if(c.targetTouches.length>1){return !0}if(d=this.getTargetElementFromEventTarget(c.target),b=c.targetTouches[0],i){if(f=window.getSelection(),f.rangeCount&&!f.isCollapsed){return !0}if(!n){if(b.identifier&&b.identifier===this.lastTouchIdentifier){return c.preventDefault(),!1}this.lastTouchIdentifier=b.identifier,this.updateScrollParent(d)}}return this.trackingClick=!0,this.trackingClickStart=c.timeStamp,this.targetElement=d,this.touchStartX=b.pageX,this.touchStartY=b.pageY,c.timeStamp-this.lastClickTime<this.tapDelay&&c.preventDefault(),!0},m.prototype.touchHasMoved=function(b){var d=b.changedTouches[0],c=this.touchBoundary;return Math.abs(d.pageX-this.touchStartX)>c||Math.abs(d.pageY-this.touchStartY)>c?!0:!1},m.prototype.onTouchMove=function(b){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(b.target)||this.touchHasMoved(b))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},m.prototype.findControl=function(b){return void 0!==b.control?b.control:b.htmlFor?document.getElementById(b.htmlFor):b.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},m.prototype.onTouchEnd=function(j){var g,c,f,h,b,d=this.targetElement;if(!this.trackingClick){return !0}if(j.timeStamp-this.lastClickTime<this.tapDelay){return this.cancelNextClick=!0,!0}if(j.timeStamp-this.trackingClickStart>this.tapTimeout){return !0}if(this.cancelNextClick=!1,this.lastClickTime=j.timeStamp,c=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,l&&(b=j.changedTouches[0],d=document.elementFromPoint(b.pageX-window.pageXOffset,b.pageY-window.pageYOffset)||d,d.fastClickScrollParent=this.targetElement.fastClickScrollParent),f=d.tagName.toLowerCase(),"label"===f){if(g=this.findControl(d)){if(this.focus(d),e){return !1}d=g}}else{if(this.needsFocus(d)){return j.timeStamp-c>100||i&&window.top!==window&&"input"===f?(this.targetElement=null,!1):(this.focus(d),this.sendClick(d,j),i&&"select"===f||(this.targetElement=null,j.preventDefault()),!1)}}return i&&!n&&(h=d.fastClickScrollParent,h&&h.fastClickLastScrollTop!==h.scrollTop)?!0:(this.needsClick(d)||(j.preventDefault(),this.sendClick(d,j)),!1)},m.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},m.prototype.onMouse=function(b){return this.targetElement?b.forwardedTouchEvent?!0:b.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(b.stopImmediatePropagation?b.stopImmediatePropagation():b.propagationStopped=!0,b.stopPropagation(),b.preventDefault(),!1):!0:!0},m.prototype.onClick=function(b){var c;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===b.target.type&&0===b.detail?!0:(c=this.onMouse(b),c||(this.targetElement=null),c)},m.prototype.destroy=function(){var b=this.layer;e&&(b.removeEventListener("mouseover",this.onMouse,!0),b.removeEventListener("mousedown",this.onMouse,!0),b.removeEventListener("mouseup",this.onMouse,!0)),b.removeEventListener("click",this.onClick,!0),b.removeEventListener("touchstart",this.onTouchStart,!1),b.removeEventListener("touchmove",this.onTouchMove,!1),b.removeEventListener("touchend",this.onTouchEnd,!1),b.removeEventListener("touchcancel",this.onTouchCancel,!1)},m.notNeeded=function(f){var b,g,d,c;if("undefined"==typeof window.ontouchstart){return !0}if(g=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!e){return !0}if(b=document.querySelector("meta[name=viewport]")){if(-1!==b.content.indexOf("user-scalable=no")){return !0}if(g>31&&document.documentElement.scrollWidth<=window.outerWidth){return !0}}}if(a&&(d=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),d[1]>=10&&d[2]>=3&&(b=document.querySelector("meta[name=viewport]")))){if(-1!==b.content.indexOf("user-scalable=no")){return !0}if(document.documentElement.scrollWidth<=window.outerWidth){return !0}}return"none"===f.style.msTouchAction||"manipulation"===f.style.touchAction?!0:(c=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],c>=27&&(b=document.querySelector("meta[name=viewport]"),b&&(-1!==b.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===f.style.touchAction||"manipulation"===f.style.touchAction?!0:!1)},m.attach=function(b,c){return new m(b,c)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return m}):"undefined"!=typeof module&&module.exports?(module.exports=m.attach,module.exports.FastClick=m):window.FastClick=m}();if("addEventListener" in document){document.addEventListener("DOMContentLoaded",function(){FastClick.attach(document.body)},false)}$(function(){var i,l;var g="ontouchstart" in window?["touchstart","touchmove touchend touchcancel"]:["mousedown","mousemove mouseup"];if(window.navigator.pointerEnabled){g=["pointerdown","pointermove pointerup pointercancel lostpointercapture"]}else{if(window.navigator.msPointerEnabled){g=["MSPointerDown","MSPointerMove MSPointerUp MSPointerCancel MSLostPointerCapture"]}}var j=function(a){if(i){return}l=jQuery(this);i=window.setTimeout(function(){l.addClass("hover")},50);a.stopPropagation()};var h=function(a){if(!i){return}window.clearTimeout(i);i=null;l=jQuery(this);setTimeout(function(){l.removeClass("hover")},10);a.stopPropagation()};$(document.body).delegate(".link",g[0],j);$(document.body).delegate(".link",g[1],h);var k;$("#Moneys div").click(function(){k=$(this).text();$("#Moneys div").removeClass("active");$(this).addClass("active");$("#divScreen,#alertbg").hide();$("#rankItem").text(k)});$("#btnAll").click(function(){$("#Moneys div").removeClass("active");k="";$("#rankItem").text("全部书单");$("#divScreen,#alertbg").hide()});$("#rankItem").click(function(){$("#divScreen,#alertbg").show()});$("#alertbg").click(function(){$("#divScreen,#alertbg").hide()});$("#keyword").focus(function(){$(this).parent().addClass("focus")});$("#keyword").blur(function(){$(this).parent().removeClass("focus")});$("#comment-input").focus(function(){$(this).parent().siblings(".input-bg").addClass("focus")});$("#comment-input").blur(function(){$(this).parent().siblings(".input-bg").removeClass("focus")});$(document.body).on("click",".praise",function(a){a.stopPropagation();$(this).addClass("praise_on")})});