//edit by mike
gettk();

!function(){"use strict";function t(e,o){function i(t,e){return function(){return t.apply(e,arguments)}}var r;if(o=o||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=o.touchBoundary||10,this.layer=e,this.tapDelay=o.tapDelay||200,this.tapTimeout=o.tapTimeout||700,!t.notNeeded(e)){for(var a=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],c=this,s=0,u=a.length;u>s;s++)c[a[s]]=i(c[a[s]],c);n&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,o){var i=Node.prototype.removeEventListener;"click"===t?i.call(e,t,n.hijacked||n,o):i.call(e,t,n,o)},e.addEventListener=function(t,n,o){var i=Node.prototype.addEventListener;"click"===t?i.call(e,t,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),o):i.call(e,t,n,o)}),"function"==typeof e.onclick&&(r=e.onclick,e.addEventListener("click",function(t){r(t)},!1),e.onclick=null)}}var e=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!e,o=/iP(ad|hone|od)/.test(navigator.userAgent)&&!e,i=o&&/OS 4_\d(_\d)?/.test(navigator.userAgent),r=o&&/OS [6-7]_\d/.test(navigator.userAgent),a=navigator.userAgent.indexOf("BB10")>0;t.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(o&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},t.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},t.prototype.sendClick=function(t,e){var n,o;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),o=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},t.prototype.determineEventType=function(t){return n&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},t.prototype.focus=function(t){var e;o&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},t.prototype.updateScrollParent=function(t){var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},t.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},t.prototype.onTouchStart=function(t){var e,n,r;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],o){if(r=window.getSelection(),r.rangeCount&&!r.isCollapsed)return!0;if(!i){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},t.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n?!0:!1},t.prototype.onTouchMove=function(t){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},t.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},t.prototype.onTouchEnd=function(t){var e,a,c,s,u,l=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,a=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,r&&(u=t.changedTouches[0],l=document.elementFromPoint(u.pageX-window.pageXOffset,u.pageY-window.pageYOffset)||l,l.fastClickScrollParent=this.targetElement.fastClickScrollParent),c=l.tagName.toLowerCase(),"label"===c){if(e=this.findControl(l)){if(this.focus(l),n)return!1;l=e}}else if(this.needsFocus(l))return t.timeStamp-a>100||o&&window.top!==window&&"input"===c?(this.targetElement=null,!1):(this.focus(l),this.sendClick(l,t),o&&"select"===c||(this.targetElement=null,t.preventDefault()),!1);return o&&!i&&(s=l.fastClickScrollParent,s&&s.fastClickLastScrollTop!==s.scrollTop)?!0:(this.needsClick(l)||(t.preventDefault(),this.sendClick(l,t)),!1)},t.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},t.prototype.onMouse=function(t){return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0},t.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},t.prototype.destroy=function(){var t=this.layer;n&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},t.notNeeded=function(t){var e,o,i,r;if("undefined"==typeof window.ontouchstart)return!0;if(o=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(o>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(a&&(i=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),i[1]>=10&&i[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction?!0:(r=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],r>=27&&(e=document.querySelector("meta[name=viewport]"),e&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===t.style.touchAction||"manipulation"===t.style.touchAction?!0:!1)},t.attach=function(e,n){return new t(e,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return t}):"undefined"!=typeof module&&module.exports?(module.exports=t.attach,module.exports.FastClick=t):window.FastClick=t}();

$(function(){
  FastClick.attach(document.body);
});

function Hashtable() {
    this.container = new Object();
    this.put = function (a, b) {
        if (typeof (a) == "undefined") {
            return false
        } if (this.contains(a)) {
            return false
        } this.container[a] = typeof (b) == "undefined" ? null : b;
        return true
    };
    this.remove = function (a) {
        delete this.container[a]
    };
    this.size = function () {
        var b = 0;
        for (var a in this.container) {
            b++
        } return b
    };
    this.get = function (a) {
        return this.container[a]
    };
    this.contains = function (a) {
        return typeof (this.container[a]) != "undefined"
    };
    this.clear = function () {
        for (var a in this.container) {
            delete this.container[a]
        }
    };
    this.toString = function () {
        var b = "";
        for (var a in this.container) {
            b += "," + a + "=" + this.container[a]
        } if (b.length > 0) {
            b = b.substr(1, b.length)
        } return "{" + b + "}"
    }
} function StringBuilder(a) {
    this._strings = [];
    this._isBuild = false;
    this._string = "";
    for (var b = 0;
b < arguments.length;
b++) {
        this._strings.push(arguments[0])
    }
} StringBuilder.prototype.append = function (c) {
    var d = c;
    for (var a = 1;
a < arguments.length;
a++) {
        if (arguments[a] != undefined) {
            var b = new RegExp("({[" + (a - 1) + "]})", "g");
            d = d.replace(b, arguments[a])
        }
    } this._strings.push(d);
    this._isBuild = false;
    return this
};
StringBuilder.prototype.appendLine = function (c) {
    var d = c;
    for (var a = 1;
a < arguments.length;
a++) {
        if (arguments[a] != undefined) {
            var b = new RegExp("({[" + (a - 1) + "]})", "g");
            d = d.replace(b, arguments[a])
        }
    } d = d + "\n";
    this._strings.push(d);
    this._isBuild = false;
    return this
};
StringBuilder.prototype.toString = function () {
    if (!this._isBuild) {
        this._string = this._strings.join("")
    } return this._string
};
StringBuilder.prototype.length = function () {
    if (!this._isBuild) {
        this._string = this._strings.join("")
    } return this._string.length
};
StringBuilder.prototype.del = function (a) {
    var b = this.length();
    var c = this.toString();
    this._string = c.slice(0, b - a);
    this._strings = [];
    this._strings.push(this._string);
    this.isBuild = true;
    return this
};
window.Class = { Create: function (d, b) {
    var a = function () {
        if (typeof this.initialize != "undefined") {
            this.initialize.apply(this, arguments)
        }
    };
    a.fn = a.prototype;
    if (d != null) {
        if (typeof d == "function") {
            a.prototype = new d(Array.prototype.slice.apply(arguments, [1]));
            a.prototype.constructor = a;
            a._parent = d;
            a.AddMethod("Parent", function (f) {
                var e = a.constructor.prototype[f];
                if (e == a[f]) {
                    e = d.prototype[f]
                } return e.apply(a, Array.prototype.slice.apply(arguments, [1]))
            })
        } else { }
    } if (typeof b == "object") {
        for (var c in b) {
            a.AddMethod(c, b[c])
        }
    } return a
}
};
Function.prototype.AddMethod = function (b, a) {
    this.prototype[b] = a;
    return this
};
var ChStrFunc = Class.Create(null, { strLen: function (c) {
    var b = 0;
    for (var a = 0;
a < c.length;
a++) {
        if (c.charCodeAt(a) > 255 || c.charCodeAt(a) < 0) {
            b += 2
        } else {
            b++
        }
    } return b
}, strToChars: function (c) {
    var a = new Array();
    for (var b = 0;
b < c.length;
b++) {
        a[b] = [c.substr(b, 1), this.isCHS(c, b)]
    } return a
}, isCHS: function (b, a) {
    if (b.charCodeAt(a) > 255 || b.charCodeAt(a) < 0) {
        return true
    } else {
        return false
    }
}, subCHString: function (f, e, b) {
    var d = 0;
    var g = "";
    var a = this.strToChars(f);
    for (var c = 0;
c < f.length;
c++) {
        if (a[c][1]) {
            d += 2
        } else {
            d++
        } if (b < d) {
            return g
        } else {
            if (e < d) {
                g += a[c][0]
            }
        }
    } return g
}, subCHStr: function (c, b, a) {
    return this.subCHString(c, b, b + a)
}
});
function DateFormat(b, a) {
    if (b == null || b == undefined) {
        b = "yyyy-MM-dd HH:mm:ss SSS"
    } if (a == null || a == undefined) {
        a = "yMdHmsS"
    } this.pattern = b;
    this.formatSymbols = a
} DateFormat.prototype = { paserDate: function (e) {
    var c = e.indexOf("(");
    var b = e.indexOf(")");
    var d = parseInt(e.substring(c + 1, b));
    var a = new Date(d);
    return a
}, getTime: function (b) {
    if (b == null) {
        b = new Date()
    } if (typeof (b) == "string") {
        b = this.paserDate(b)
    } var k = b.getFullYear();
    var g = b.getMonth() + 1;
    var a = b.getDate();
    var c = b.getHours();
    var f = b.getMinutes();
    var i = b.getSeconds();
    var j = b.getTime() % 1000;
    var e = k + "-";
    if (g < 10) {
        e += "0"
    } e += g + "-";
    if (a < 10) {
        e += "0"
    } e += a + " ";
    if (c < 10) {
        e += "0"
    } e += c + ":";
    if (f < 10) {
        e += "0"
    } e += f + ":";
    if (i < 10) {
        e += "0"
    } e += i;
    e += " ";
    if (j < 100) {
        e += "0"
    } if (j < 10) {
        e += "0"
    } e += j;
    return e
}, format: function (c) {
    var o = this.getTime(c);
    var a = this.formatSymbols.split("");
    var f = this.pattern.split("");
    var e = o.split("");
    var p = 3;
    var k = 6;
    var b = 9;
    var g = 12;
    var j = 15;
    var l = 18;
    var n = 22;
    for (var h = f.length - 1;
h > -1;
h--) {
        switch (f[h]) {
            case a[0]: f[h] = e[p--];
                break;
            case a[1]: f[h] = e[k--];
                break;
            case a[2]: f[h] = e[b--];
                break;
            case a[3]: f[h] = e[g--];
                break;
            case a[4]: f[h] = e[j--];
                break;
            case a[5]: f[h] = e[l--];
                break;
            case a[6]: f[h] = e[n--];
                break
        }
    } return f.join("")
}, parse: function (c) {
    var o = "";
    var j = "";
    var b = "";
    var f = "";
    var h = "";
    var k = "";
    var l = "";
    var a = this.formatSymbols.split("");
    var e = this.pattern.split("");
    var n = Math.min(e.length, c.length);
    for (var g = 0;
g < n;
g++) {
        switch (e[g]) {
            case a[0]: o += c.charAt(g);
                break;
            case a[1]: j += c.charAt(g);
                break;
            case a[2]: b += c.charAt(g);
                break;
            case a[3]: f += c.charAt(g);
                break;
            case a[4]: h += c.charAt(g);
                break;
            case a[5]: k += c.charAt(g);
                break;
            case a[6]: l += c.charAt(g);
                break
        }
    } if (o.length < 1) {
        o = 0
    } else {
        o = parseInt(o)
    } if (j.length < 1) {
        j = 0
    } else {
        j = parseInt(j)
    } if (b.length < 1) {
        b = 0
    } else {
        b = parseInt(b)
    } if (f.length < 1) {
        f = 0
    } else {
        f = parseInt(f)
    } if (h.length < 1) {
        h = 0
    } else {
        h = parseInt(h)
    } if (k.length < 1) {
        k = 0
    } else {
        k = parseInt(k)
    } if (l.length < 1) {
        l = 0
    } else {
        l = parseInt(l)
    } var b = new Date(o, j - 1, b, f, h, k, l);
    return b
}
};
function reachBottom() {
    var c = 0;
    var a = 0;
    var b = 0;
    if (document.documentElement && document.documentElement.scrollTop) {
        c = document.documentElement.scrollTop
    } else {
        if (document.body) {
            c = document.body.scrollTop
        }
    } if (document.body.clientHeight && document.documentElement.clientHeight) {
        a = (document.body.clientHeight < document.documentElement.clientHeight) ? document.body.clientHeight : document.documentElement.clientHeight
    } else {
        a = (document.body.clientHeight > document.documentElement.clientHeight) ? document.body.clientHeight : document.documentElement.clientHeight
    } b = Math.max(document.body.scrollHeight, document.documentElement.scrollHeight);
    if (c + a >= b - 50) {
        return true
    } else {
        return false
    }
} var the9Ajax = Class.Create(null, { initialize: function () {
    var m_ak;
    var m_lw;
    var m_ism;
    if (argsArr["ak"]) { m_ak = argsArr["ak"]; } else { $("#TkrAk").val(); }
    if (argsArr["lw"]) { m_lw = argsArr["lw"]; } else { $("#lw").val(); }
    if (argsArr["ism"]) { m_ism = argsArr["ism"]; } else { $("#ism").val(); }
    this._Json = {};
    this._Json.tk = unescape(gettk());
    this._Json.ak = m_ak;
    this._Json.lw = m_lw;
    this._Json.ism = m_ism;
}, _Loading: false, _Message_Format: '<div id={0} class="loadding"><div class="more">{1}</div></div>', _Default_Message: "", _Default_Message_Id: "ajaxMessage", _StringFormat: function (c) {//正在加载...
    var d = c;
    for (var a = 1;
a < arguments.length;
a++) {
        if (arguments[a] != undefined) {
            var b = new RegExp("({[" + (a - 1) + "]})", "g");
            d = d.replace(b, arguments[a])
        }
    } return d
}, _IsFunction: function (a) { return (a != null) && (a != undefined) && (typeof (a) == "function") },

    _ShowMessage: function (c) {
        if ($("[the9Content='message']").length > 0 || $("#ajaxMessage").length > 0) return;
        var b = arguments.length; var a = "ajaxMessage"; if (2 <= b) { a = "ajax" + arguments[1].replace("ajax", "") }
        $(this._StringFormat(this._Message_Format, a, c)).appendTo("body");
    },
    _HideMessage: function () {
        if ($("[the9Content='message']").length > 0) return;
        var c = arguments.length; var b; var a; if (0 == c) {
            b = "#ajaxMessage"
        } else {
            if (1 <= c) {
                b = "#ajax" + arguments[0].replace("ajax", "")
            }
        } if (2 <= c) {
            a = arguments[1]
        } var d = this; $(b).animate({ opacity: "hide" }, "slow", "swing", function () {
            $(b).remove();
            if (d._IsFunction(a)) {
                a()
            }
        })
    }, _Url: null, _Json: {}, _BeforePostFunc: null, _SuccessFunc: null, _ErrorFunc: null, _CompleteFunc: null, _Abort: function () { }, _IsAbortPost: false, Post: function () {
        if (!this._Loading) {
            this._Loading = true;
            this._IsAbortPost = false;
            this._Json.ajax = "ajax";
            if (this._IsFunction(this._BeforePostFunc)) {
                this._BeforePostFunc.apply(this, arguments)
            } var a = this;
            if (this._IsAbortPost) {
                this._HideMessage(this._Default_Message_Id, function () {
                    a._Loading = false;
                    if (a._IsFunction(a._CompleteFunc)) {
                        a._CompleteFunc.apply(a, arguments)
                    }
                });
                this._IsAbortPost = false;
                this._Loading = false;
                return
            } this._ShowMessage(this._Default_Message, this._Default_Message_Id);
            $.post(this._Url, this._Json, function (c) {
                if (c.IsError) {
                    Message(c.Message)
                } else {
                    if (a._IsFunction(a._SuccessFunc)) {
                        var b = new Array();
                        b.push(c);
                        a._SuccessFunc.apply(a, b)
                    }
                }
            }).error(function (c) {
                var b = new Array();
                for (var d in c) {
                    if (!a._IsFunction(c[d])) {
                        b.push(c[d])
                    }
                }
                if (a._IsFunction(a._ErrorFunc)) {
                    a._ErrorFunc.apply(a, arguments)
                }
            }).complete(function () {
                a._HideMessage(a._Default_Message_Id, function () {
                    a._Loading = false;
                    if (a._IsFunction(a._CompleteFunc)) {
                        a._CompleteFunc.apply(a, arguments)
                    }
                })
            })
        }
    }
});
var the9DataLoad = Class.Create(null, { _Poster: null, _PageIndex: 1, _PageSize: 1, _DataCount: 6, _IsDataEof: false, _OnDataEof: null, initialize: function () {
    this._Poster = new the9Ajax();
    this._IsDataEof = false;
    var a = this;
    this._Poster._BeforePostFunc = function () {
        a._Poster._Json.pageindex = a._PageIndex;
        a._Poster._Json.pagesize = a._PageSize
    };
    this._Poster._SuccessFunc = function () {
        if (arguments.length > 0) {
            var c = arguments[0];
            if (Number(a._PageSize) > c.length) {
                a._IsDataEof = true;
                if (a._Poster._IsFunction(a._OnDataEof)) {
                    a._OnDataEof.apply(a, arguments)
                }
            } if (a._Poster._IsFunction(a._SuccessFunc)) {
                var b = Number(a._DataCount) + Number(a._PageSize) - Number(a._PageIndex * a._PageSize);
                a._SuccessFunc(c, b)
            } a._DataCount = Number(a._DataCount) + c.length - (Number(a._DataCount) + Number(a._PageSize) - Number(a._PageIndex * a._PageSize));
            if (c.length == a._PageSize) {
                a._PageIndex += 1
            }
        }
    }
}, _SuccessFunc: null, Post: function () {
    if (!this._IsDataEof) {
        this._Poster.Post()
    }
}
});
function resizeSummary(o) {
    var obj; if (o) { obj = $(o) } else { obj = $(".indent"); }
    obj.each(function (i) {
        var divH = $(this).height(); var $p = $("p", $(this)).eq(0);    
        while ($p.height() > divH) { $p.text($p.text().replace(/(\s)*([a-zA-Z0-9]+|\W)(\.\.\.)?$/, "")); }
        if ($(this).hasClass("suo")) { $p.css({ "position": "inherit", "bottom": "auto" }); $(this).css({ "height": "auto" }) } $p.css({ "display": "inherit" })
    });
}

$(document).ready(function () {
    netType();
    setTimeout("resizeSummary();", 300);
    $(window).resize(function () { resizeSummary(); });
    (function (a) {
        var b = navigator.userAgent.toLowerCase();
        a.fn.the9Helper = { IsAndroid: b.match(/android/i) == "android", IsIpad: b.match(/ipad/i) == "ipad", IsIphoneOs: b.match(/iphone os/i) == "iphone os", IsMidp: b.match(/midp/i) == "midp", IsUc7: b.match(/rv:1.2.3.4/i) == "rv:1.2.3.4", IsUc: b.match(/ucweb/i) == "ucweb", IsCE: b.match(/windows ce/i) == "windows ce", IsWM: b.match(/windows mobile/i) == "windows mobile", IsWindowsPhone: b.match(/windows phone/i) == "windows phone", IsWindowsPhone75: b.match(/windows phone os 7.5/i) == "windows phone os 7.5" };
        a.fn.the9Helper.StringFormat = function (e) {
            var f = e;
            for (var c = 1;
c < arguments.length;
c++) {
                if (arguments[c] != undefined) {
                    var d = new RegExp("({[" + (c - 1) + "]})", "g");
                    f = f.replace(d, arguments[c])
                }
            } return f
        }
    })(jQuery);


    /*在ios下 为所有的页面 增加iosClick事件*/
    // (function ($) {
    //     if ($.fn.the9Helper.IsIphoneOs) {
    //         var st, et;
    //         st = et = new Date();
    //         var moved = false;

    //         $(document.body)
    //         .delegate("*", "touchstart", function () {
    //             if ($(this).children().length == 0) {
    //                 st = new Date();
    //                 moved = false;
    //             }
    //         })
    //         .delegate("*", "touchmove", function () {
    //             if ($(this).children().length == 0) {
    //                 moved = true;
    //             }
    //         })
    //         .delegate("*", "touchend", function () {
    //             if ($(this).children().length == 0) {
    //                 et = new Date();
    //                 var tem = et.getTime() - st.getTime();

    //                 var days = Math.floor(tem / (24 * 3600 * 1000));
    //                 var leave1 = tem % (24 * 3600 * 1000);
    //                 var hours = Math.floor(leave1 / (3600 * 1000));
    //                 var leave2 = leave1 % (3600 * 1000);
    //                 var minutes = Math.floor(leave2 / (60 * 1000));
    //                 var microseconds = leave2 % (60 * 1000);
    //                 if (microseconds < 300 && !moved) {
    //                     $(this).trigger("iosClick");
    //                 }
    //             }
    //         });
    //     }
    // })(jQuery);



    (function (a) {
        var g = function () {
//            $(this).addClass("feedback");
        };
        var f = function () {
//            $(this).removeClass("feedback")
        };
        var e = function () {
            var h = $(this), b = h.attr("href"); if (!b) { setTimeout(function () {
                //h.removeClass("feedback"); 
            }, 100); return
            } else {
               // h.removeClass("feedback") 
              }; var tk = gettk(), ak = argsArr["ak"], lw = argsArr["lw"], ism = argsArr["ism"], sc = argsArr["sc"]; if (!tk) tk = $("#TkrTkEncode").val(); if (!ak) ak = $("#TkrAk").val(); if (!lw) lw = $("#lw").val(); if (!ism) ism = $("#ism").val(); if (!sc) sc = 640; var p = "tk=" + tk + "&ak=" + ak + "&lw=" + lw + "&ism=" + ism + "&sc=" + sc; b = b + (b.indexOf("?") > 0 ? "&" : "?") + p; if (b != undefined && b != "" && b.indexOf("#") == -1) { OpenUrl((b.substring(0, 1) == "/" || b.indexOf("http://") > -1 ? "" : "/") + b) }
        };

        if ($.fn.the9Helper.IsIphoneOs) {
            $(document.body).delegate(".link", "touchstart", function () {
                g.apply($(this), arguments)
            });
            $(document.body).delegate(".link", "touchmove", function () {
                f.apply($(this), arguments)
            });
            $(document.body).delegate(".link", "touchend", function () {
                f.apply($(this), arguments)
            });
            // $(document.body).on('tap', '.link', function(ev) {
            //     ev.preventDefault();
            //     e.apply($(this), arguments);
            // });
            $(document.body).delegate(".link", "click", function () {
                e.apply($(this), arguments)
            })
        } else {
            if ($.fn.the9Helper.IsAndroid) {
                $(document.body).delegate(".link", "touchstart", function () {
                    //edit by mike feedback
                    removeFeedback();
//                    $(this).addClass("feedback");
                    m_Feedbacks[m_FeedbackIndex] = $(this);
                    m_FeedbackIndex++;
                    setTimeout(function () { removeFeedback() }, 100);

                });

                $(document.body).delegate(".link", "touchmove", function () {
                    //$(this).removeClass("feedback");
                });

                $(document.body).delegate("*", "touchend", function () {
//                    $(this).removeClass("feedback");
                });

                //$(".link").on("click", function (e) {
                //    var $this = $(this);
                //    e.apply($this, arguments);
                //});
                
                // $("body").on('tap', '.link', function(ev) {
                //     ev.preventDefault();
                //     var $this = $(this);
                //     e.apply($this, arguments);
                // });
                $("body").on("click", ".link", function () {
                    var $this = $(this);
                    //setTimeout(function () { e.apply($this, arguments) }, 10);
                    //edit by mike feedback
                    e.apply($this, arguments);
                });
            } else {
                if ($.fn.the9Helper.IsWindowsPhone) {
                    if ($.fn.the9Helper.IsWindowsPhone75) {
                        document.oncontextmenu = function () {
                            return false
                        };
                        document.onselectstart = function () {
                            return false
                        };
                        // $(document.body).on('tap', '.link', function(ev) {
                        //     ev.preventDefault();
                        //     g.apply($(this), arguments);
                        // });                        
                        $(document.body).delegate(".link", "click", function () {
                            g.apply($(this), arguments);

                        })
                    } else {
                        $(document.body).delegate(".link", "mousedown", function () {
                            removeFeedback(); m_Feedbacks[m_FeedbackIndex] = $(this); m_FeedbackIndex++;//$(this).addClass("feedback"); 
                            setTimeout(function () { removeFeedback() }, 100);
                        });
                        $(document.body).delegate(".link", "mouseup", function () {
                            removeFeedback();
                        });
                        // $(document.body).on('tap', '.link', function(ev) {
                        //     ev.preventDefault();
                        //     e.apply($(this), arguments);
                        // }); 
                        $(document.body).delegate(".link", "click", function () {
                            e.apply($(this), arguments)
                        })
                    }
                } else {
                    $(document.body).delegate(".link", "mousedown", function () {
                        g.apply($(this), arguments)
                    });
                    $(document.body).delegate(".link", "mouseup", function () {
                        f.apply($(this), arguments)
                    });
                    // $(document.body).on('tap', '.link', function(ev) {
                    //     ev.preventDefault();
                    //     e.apply($(this), arguments);
                    // });
                    $(document.body).delegate(".link", "click", function () {
                        e.apply($(this), arguments)
                    })
                }
            }
        }
    })(window);

        $("ul.nav-tabs li").bind("click", function () {
            var b = $(this).attr("href");
            if (!b) return;
            var c = b.substring(1);
            var a = $(this).parent();
            var d = a.next("div.tab-content");
            if (d.length == 0) {
                a = $(this).parent().parent();
                d = a.next("div.tab-content");
            }
            a.find("li").each(function () {
                $(this).removeClass("active")
            });
            $(this).addClass("active");
            d.find(".tab-pane").each(function () {
                $(this).removeClass("active")
            }); 
			
			var img = $(b).find("img.cancel"); if (img.length > 0 && $(img).attr("data-original")) $(img).attr("src", $(img).attr("data-original")).removeClass("hidden").removeClass("cancel").removeAttr("data-original");
            $(b).addClass("active"); resizeSummary($(b).find(".indent"));
        })
    
});
String.prototype.replaceAll = function (e, t, n) { return RegExp.prototype.isPrototypeOf(e) ? this.replace(e, t) : this.replace(new RegExp(e, n ? "gi" : "g"), t) }

eval(function (p, a, c, k, e, d) { e = function (c) { return (c < a ? '' : e(parseInt(c / a))) + ((c = c % a) > 35 ? String.fromCharCode(c + 29) : c.toString(36)) }; if (!''.replace(/^/, String)) { while (c--) { d[e(c)] = k[c] || e(c) } k = [function (e) { return d[e] } ]; e = function () { return '\\w+' }; c = 1 }; while (c--) { if (k[c]) { p = p.replace(new RegExp('\\b' + e(c) + '\\b', 'g'), k[c]) } } return p } ('(2($,7,H,j){9 $7=$(7);$.1h.1g=2(f){9 i=g;9 $8;9 1={e:0,C:0,h:"D",12:"1f",8:7,1a:"d",1k:11,k:1c,w:1c,1b:"G:10/1i;1j,1m=="};2 N(){9 P=0;i.K(2(){9 $g=$(g);4(!$.l(g,1)){$g.M("k");P=0}m{4(++P>1.C){6 I}}})}4(f){4(j!==f.B){f.C=f.B;17 f.B}4(j!==f.J){f.W=f.J;17 f.J}$.1e(1,f)}$8=(1.8===j||1.8===7)?$7:$(1.8);4(0===1.h.z("D")){$8.x(1.h,2(){6 N()})}g.K(2(){9 3=g;9 $3=$(3);3.t=I;4($3.p("s")===j||$3.p("s")===I){$3.p("s",1.1b)}$3.1l("k",2(){4(!g.t){4(1.k){9 A=i.R;1.k.U(3,A,1)}9 d=$3.G(1.1a);4(14.13.z("1o")>=0&&14.13.z("1n")>=0){d=d.E("[v]n","[1p]n")}m{4(q["Z"])d=d.E("[v]n","["+q["Z"]+"]n");m{4(q["F"]&&q["F"]!=v)d=d.E("[v]n","["+q["F"]+"]n")}}$("<X />").x("w",2(){$3.1C();4($3.1H("X")){$3.p("s",d)}m{$3.1G("1F-10","1E(\'"+d+"\')")}$3[1.12](1.W);3.t=11;9 V=$.1J(i,2(b){6!b.t});i=$(V);4(1.w){9 A=i.R;1.w.U(3,A,1)}}).p("s",d);$3.1K("G-d")}});4(0!==1.h.z("D")){$3.x(1.h,2(){4(!3.t){$3.M("k")}})}});4((/1N|1L|1q.*1M 5/1I).1D(1v.1u)){$7.x("1t",2(h){4(h.19&&h.19.1r){i.K(2(){$(g).M("k")})}})}$(H).1s(2(){N()});6 g};$.l=2(b,1){9 c;4(1.8===j||1.8===7){c=(7.18?7.18:$7.L())+$7.15()}m{c=$(1.8).y().r+$(1.8).L()}6 c<=$(b).y().r-1.e};$.16=2(b,1){9 c;4(1.8===j||1.8===7){c=$7.15()}m{c=$(1.8).y().r}6 c>=$(b).y().r+1.e+$(b).L()};$.Q=2(b,1){6!$.o(b,1)&&!$.1w(b,1)&&!$.l(b,1)&&!$.16(b,1)};$.1e($.1x[":"],{"1B-O-c":2(a){6 $.l(a,{e:0})},"T-O-r":2(a){6!$.l(a,{e:0})},"S-u-1d":2(a){6 $.o(a,{e:0})},"Y-u-1d":2(a){6!$.o(a,{e:0})},"1A-1z":2(a){6 $.Q(a,{e:0})},"T-O-c":2(a){6!$.l(a,{e:0})},"S-u-c":2(a){6 $.o(a,{e:0})},"Y-u-c":2(a){6!$.o(a,{e:0})}})})(1y,7,H);', 62, 112, '|settings|function|self|if||return|window|container|var||element|fold|original|threshold|options|this|event|elements|undefined|appear|belowthefold|else|_|rightoffold|attr|argsArr|top|src|loaded|of|640|load|bind|offset|indexOf|elements_left|failurelimit|failure_limit|scroll|replace|sc|data|document|false|effectspeed|each|height|trigger|update|the|counter|inviewport|length|right|above|call|temp|effect_speed|img|left|msc|image|true|effect|href|location|scrollTop|abovethetop|delete|innerHeight|originalEvent|data_attribute|placeholder|null|screen|extend|show|lazyload|fn|gif|base64|skip_invisible|one|iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg|List|Class|480|ipad|persisted|ready|pageshow|appVersion|navigator|leftofbegin|expr|jQuery|viewport|in|below|hide|test|url|background|css|is|gi|grep|removeAttr|ipod|os|iphone'.split('|'), 0, {}))

function showimg() {
    if (!m_lazyload) {
        $(".cover img").attr("src", "/Content/Images/imgbg.png");return;
    };
    $("img[data-original]").each(function (index) {
        if (!$(this).hasClass("cancel")) {
            var original = $(this).attr("data-original");
            if (location.href.indexOf("Class") >= 0 && location.href.indexOf("List.chtml") >= 0)
            { original = original.replace("[640]_", "[480]_"); }
            else {
                if (argsArr["msc"]) original = original.replace("[640]_", "[" + argsArr["msc"] + "]_");
                else { if (argsArr["sc"] && argsArr["sc"] != 640) original = original.replace("[640]_", "[" + argsArr["sc"] + "]_"); }
            }
            $(this).attr("src", original).removeClass("hidden").removeAttr("data-original");
        }
    })
}

var m_lazyload = true;

function netType() {
    try {
        $(".cover img").attr("src", "/Content/Images/imgbg.png").removeClass("hidden");
        //var _netType = window.onet.getNet();
        //if(_netType != "2g" || _netType == "")
        $("img[data-original]").lazyload();
        //else 
        //	    {
        //	        m_lazyload = false;
        //	        $("div.imgbg").css({ "background-image": "url(/Content/Images/imgbg2.png)" })
        //	        $("div.imgbg1").css({ "background-image": "url(/Content/Images/imgbg2.png)" })
        //	        $(".home-btn img[data-original],img[src*='banner-default.jpg'").removeClass("hidden").lazyload(); 
        //        }
    }
    catch (err) {
        $("img[data-original]").removeClass("hidden").lazyload();
    }
}
//edit by mike
function gettk() {
    var m_tk;
    try {
        var query = window.location.search;
        if (query.indexOf("tk=") > -1) {
            m_tk = argsArr["tk"];
        }
        else {
            m_tk = window.tkr.getTK();
            m_tk = encodeURIComponent(m_tk) + "";
            if (m_tk != "") {
                argsArr["tk"] = m_tk;
            }
        }
    }
    catch (err) {
        m_tk = argsArr["tk"];

    }
    if (!m_tk) {
        m_tk = $("#TkrTkEncode").val();
    }
    return m_tk;

}
//edit by mike click feedback
var m_Feedbacks = new Array();
var m_FeedbackIndex = 0;
function removeFeedback() {
    if (m_Feedbacks.length > 0) {
//        for (var i = 0; i < m_Feedbacks.length; i++) {
//            m_Feedbacks[i].removeClass("feedback");
//        }
        m_Feedbacks = new Array();
        m_FeedbackIndex = 0;
    }
}

