var WINDOW_WIDTH=1024;var WINDOW_HEIGHT=768;var RADIUS=8;var MARGIN_LEFT=10;var MARGIN_TOP=60;var curShowTimeSeconds=0;var balls=[];const colors=["#33B5E5","#0099CC","#AA66CC","#9933CC","#99CC00","#669900","#FFBB33","#FF8800","#FF4444","#CC0000"];window.onload=window.onresize=function(){WINDOW_WIDTH=document.body.clientWidth;WINDOW_HEIGHT=document.body.clientHeight;MARGIN_LEFT=Math.round(WINDOW_WIDTH/10);RADIUS=Math.round(WINDOW_WIDTH*4/5/114)-1;MARGIN_TOP=Math.round(WINDOW_HEIGHT/5);var b=document.getElementById("myCanvas");var a=b.getContext("2d");b.width=WINDOW_WIDTH;b.height=WINDOW_HEIGHT;curShowTimeSeconds=getCurrentShowTimeSeconds();setInterval(function(){render(a);update()},50)};function getCurrentShowTimeSeconds(){var b=new Date();var a=b.getHours()*3600+b.getMinutes()*60+b.getSeconds();return a}function update(){var g=getCurrentShowTimeSeconds();var f=parseInt(g/3600);var d=parseInt((g-f*3600)/60);var a=g%60;var b=parseInt(curShowTimeSeconds/3600);var c=parseInt((curShowTimeSeconds-b*3600)/60);var e=curShowTimeSeconds%60;if(a!=e){if(parseInt(b/10)!=parseInt(f/10)){addBalls(MARGIN_LEFT,MARGIN_TOP,parseInt(b/10))}if(parseInt(b%10)!=parseInt(f%10)){addBalls(MARGIN_LEFT+16*(RADIUS+1),MARGIN_TOP,parseInt(b%10))}if(parseInt(c/10)!=parseInt(d/10)){addBalls(MARGIN_LEFT+41*(RADIUS+1),MARGIN_TOP,parseInt(c/10))}if(parseInt(c%10)!=parseInt(d%10)){addBalls(MARGIN_LEFT+57*(RADIUS+1),MARGIN_TOP,parseInt(c%10))}if(parseInt(e/10)!=parseInt(a/10)){addBalls(MARGIN_LEFT+82*(RADIUS+1),MARGIN_TOP,parseInt(e/10))}if(parseInt(e%10)!=parseInt(a%10)){addBalls(MARGIN_LEFT+98*(RADIUS+1),MARGIN_TOP,parseInt(e%10))}curShowTimeSeconds=g}updateBalls()}function updateBalls(){for(var b=0;b<balls.length;b++){balls[b].x+=balls[b].vx;balls[b].y+=balls[b].vy;balls[b].vy+=balls[b].g;if(balls[b].y>=WINDOW_HEIGHT-RADIUS){balls[b].y=WINDOW_HEIGHT-RADIUS;balls[b].vy=-balls[b].vy*0.75}}var a=0;for(var b=0;b<balls.length;b++){if(balls[b].x+RADIUS>0&&balls[b].x-RADIUS<WINDOW_WIDTH){balls[a++]=balls[b]}}while(balls.length>a){balls.pop()}}function addBalls(a,f,c){for(var e=0;e<digit[c].length;e++){for(var b=0;b<digit[c][e].length;b++){if(digit[c][e][b]==1){var d={x:a+b*2*(RADIUS+1)+(RADIUS+1),y:f+e*2*(RADIUS+1)+(RADIUS+1),g:1.5+Math.random(),vx:Math.pow(-1,Math.ceil(Math.random()*1000))*4,vy:-5,color:colors[Math.floor(Math.random()*colors.length)]};balls.push(d)}}}}function render(b){b.clearRect(0,0,WINDOW_WIDTH,WINDOW_HEIGHT);var a=parseInt(curShowTimeSeconds/3600);var d=parseInt((curShowTimeSeconds-a*3600)/60);var e=curShowTimeSeconds%60;renderDigit(MARGIN_LEFT,MARGIN_TOP,parseInt(a/10),b);renderDigit(MARGIN_LEFT+16*(RADIUS+1),MARGIN_TOP,parseInt(a%10),b);renderDigit(MARGIN_LEFT+32*(RADIUS+1),MARGIN_TOP,10,b);renderDigit(MARGIN_LEFT+41*(RADIUS+1),MARGIN_TOP,parseInt(d/10),b);renderDigit(MARGIN_LEFT+57*(RADIUS+1),MARGIN_TOP,parseInt(d%10),b);renderDigit(MARGIN_LEFT+73*(RADIUS+1),MARGIN_TOP,10,b);renderDigit(MARGIN_LEFT+82*(RADIUS+1),MARGIN_TOP,parseInt(e/10),b);renderDigit(MARGIN_LEFT+98*(RADIUS+1),MARGIN_TOP,parseInt(e%10),b);for(var c=0;c<balls.length;c++){b.fillStyle=balls[c].color;b.beginPath();b.arc(balls[c].x,balls[c].y,RADIUS,0,2*Math.PI);b.closePath();b.fill()}}function renderDigit(a,f,d,b){b.fillStyle="rgb(0,102,153)";for(var e=0;e<digit[d].length;e++){for(var c=0;c<digit[d][e].length;c++){if(digit[d][e][c]==1){b.beginPath();b.arc(a+c*2*(RADIUS+1)+(RADIUS+1),f+e*2*(RADIUS+1)+(RADIUS+1),RADIUS,0,2*Math.PI);b.closePath();b.fill()}}}};