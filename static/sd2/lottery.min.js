function tree(a){this.obj=$("#"+a);this.btn=this.obj.find(".btn");this.moveHandler=null;this.move=function(){this.btn.hide();this.obj.attr("class","moveRight");var b=this.obj;this.moveHandler=setInterval(function(){if(b.hasClass("moveLeft")){b.attr("class","moveRight")}else{b.attr("class","moveLeft")}},100)};this.stop=function(){clearInterval(this.moveHandler);this.obj.attr("class","stop")};this.recover=function(){clearInterval(this.moveHandler);this.btn.show();this.obj.attr("class","normal")}}award_id=0;award_name="";function start_lottery(){var a=new tree("tree");$.ajax({url:"lottery.php",type:"post",data:null,dataType:"json",timeout:20000,cache:false,beforeSend:function(){a.move()},error:function(){a.recover();alert("服务端出错！")},success:function(b){if(typeof(b.award_id)!="undefined"){award_id=b.award_id;award_name=b.award_name;setTimeout(function(){a.stop();effect.zoomIn("award_"+award_id,1)},3000);setTimeout(function(){a.recover()},8000)}else{a.recover();alert("抽奖出错！")}}})};